@execute

123, 123
"return 123", 123
"123 + 456", 579
"'hello' $ ' ' $ 'world'", "'hello world'"
"1 + 2 * 3", "7"
"a = 2; -a", "-2"
"a = true; not a", false
"x = 123; y = 456; x + y", 579

"1000 is 1e3"
"1e3 is 1000"
"10e3 is 1e4"

"a = 0; ++a", 1
"a = 0; a++", 0
"a = 0; a++; a", 1
"a = 0; --a", -1
"a = 0; a--", 0
"a = 0; a--; a", -1

"Suneido.a = 0; ++Suneido.a", 1
"Suneido.a = 0; Suneido.a++", 0
"Suneido.a = 0; Suneido.a++; Suneido.a", 1
"Suneido.a = 0; --Suneido.a", -1
"Suneido.a = 0; Suneido.a--", 0
"Suneido.a = 0; Suneido.a--; Suneido.a", -1

"Suneido[0] = 0; ++Suneido[0]", 1
"Suneido[0] = 0; Suneido[0]++", 0
"Suneido[0] = 0; Suneido[0]++; Suneido[0]", 1
"Suneido[0] = 0; --Suneido[0]", -1
"Suneido[0] = 0; Suneido[0]--", "0"
"Suneido[0] = 0; Suneido[0]--; Suneido[0]", -1

"2 < 3", true
"3 < 2", false
"2 < 2", false
"1.1 < 1.2", true
"1.2 < 1.1", false
//"#(.5) < #(99)", true
//"#(99) < #(.5)", false

"2 <= 3", true
"3 <= 2", false
"2 <= 2", true

"2 > 3", false
"3 > 2", true
"2 > 2", false

"2 >= 3", false
"3 >= 2", true
"2 >= 2", true

"'abc' =~ '^[a-c]+$'", true
"'abcx' !~ '^[a-c]+$'", true

"s = 1; s $= 2", "'12'"
"n = 10; n -= 5", 5

"t = true; f = false; t and t", true
"t = true; f = false; t and f", false
"t = true; f = false; f and t", false
"t = true; f = false; f and f", false
"t = true; f = false; t or t", true
"t = true; f = false; t or f", true
"t = true; f = false; f or t", true
"t = true; f = false; f or f", false

"x = true; x ? 1 : 2", 1
"x = false; x ? 1 : 2", 2

"0 in (1,2,3)", false
"1 in (1,2,3)", true
"2 in (1,2,3)", true
"3 in (1,2,3)", true

"i = 0; while i < 4 { ++i } i", 4

"x = 4; if x > 3 { return 1 } else { return -1 }", 1
"x = 2; if x > 3 { return 1 } else { return -1 }", -1

"x = 2
switch {
case x < 3: return -1
case x == 3: return 0
case x > 3: return +1
}", -1

"x = 3
switch {
case x < 3: return -1
case x == 3: return 0
case x > 3: return +1
}", 0

"x = 4
switch {
case x < 3: return -1
case x == 3: return 0
case x > 3: return +1
}", 1

"x = 4
switch x {
case 3: return 0
default: return 1
}", 1

// only "" and false should convert to number or integer

// convert to number
"x = 123; y = 111; x + y", 234
"x = 123; y = ''; x + y", 123
"x = 123; y = true; x + y" throws "can't convert true to number"
"x = 123; y = '111'; x + y" throws "can't convert String to number"
// convert to integer
"x = 123; y = false; x + y", 123
"x = 0xff; y = 0xf; x & y", 0xf
"x = 0xff; y = true; x & y" throws "can't convert true to number"
"x = 0xff; y = '1'; x & y" throws "can't convert String to number"

"s = 'hello'; s[1.2]" throws "string subscripts must be integers"
"s = 'hello'; s['']" throws "string subscripts must be integers"
"s = 'hello'; s[false]" throws "string subscripts must be integers"

// Type
"Type(true)", "'Boolean'"
"Type('foo')", "'String'"
"Type(123)", "'Number'"
"Type(function () { })", "'Function'"
"Type(class { })", "'Class'"
"Type(Pack)", "'BuiltinFunction'"
"Type(Date)", "'BuiltinClass'"
"Type(Date())", "'Date'"
"Type(Adler32)", "'BuiltinClass'"
"Type(Adler32())", "'Adler32'"
"Type(Md5)", "'BuiltinClass'"
"Type(Md5())", "'Md5'"
"Type(Seq)", "'BuiltinFunction'"
"Type(Seq())", "'Object'"

// Display
"Display(Pack)", "'Pack /* builtin function */'"
"Display(Seq)", "'Seq /* builtin function */'"
"Display(Seq())", "'infiniteSequence'"
"Display(Date)", "'Date /* builtin class */'"
"Display(Thread)", "'Thread /* builtin class */'"
"Display(Adler32)", "'Adler32 /* builtin class */'"
"Display(Md5)", "'Md5 /* builtin class */'"
"Display(Adler32())", "'aAdler32'"
"Display(Md5())", "'aMd5'"

// Note: Adler32 and Md5 are implemented differently in jSuneido
